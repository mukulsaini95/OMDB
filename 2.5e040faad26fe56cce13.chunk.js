(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0b8eb3e35929778b339a":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=(r("8a2d1b95e05b6a321e74"),r("d7dd51e1bf6bfc2c9c3d")),c=(r("0d7f0986bcd2f33d8a2a"),r("ab039aecd4a1d4fedc0e")),i=r("a28fc3c963a1d4d1a2e5"),s=r("ab4cb61bcb2dc161defb"),u=r("adc20f99e57c573c589c"),f=r("d95b0cf107403b178365"),d="app/HomePage/DEFAULT_ACTION",l="app/HomePage/SEARCH_MOVIE",p="app/HomePage/SEARCH_MOVIE_SUCCESS",v="app/HomePage/SEARCH_MOVIE_FAILURE";var h=r("54f683fcda7806277002"),b=Object(h.fromJS)({});var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1];switch(t.type){case d:return e;case p:return t.response,Object.assign({},e,{searchSuccess:t.response});case v:return Object.assign({},e,{searchFailure:t.response});default:return e}},g=function(e){return e.get("homePage",b)},y=r("6c68d13fe9e3e77d8fc4"),j=r("bd183afcc37eabd79225"),S=r.n(j),w=(r("a7e3807798c0b990af09"),regeneratorRuntime.mark(P)),O=regeneratorRuntime.mark(N),R=regeneratorRuntime.mark(k);function P(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t="https://www.omdbapi.com/?apikey=3b63fa88&s="+e.searchKey+"&page="+e.pageNumber+"&type="+e.genre,n.next=4,Object(y.a)(S.a.get,t,{});case 4:return r=n.sent,n.next=7,Object(y.b)({type:p,response:"True"==r.data.Response?r.data:r.Error});case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(0),n.next=13,Object(y.b)({type:v,error:n.t0});case 13:case"end":return n.stop()}},w,this,[[0,9]])}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.c)(l,P);case 2:case"end":return e.stop()}},O,this)}function k(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[N()];case 2:case"end":return e.stop()}},R,this)}Object(c.defineMessages)({header:{id:"app.containers.HomePage.header",defaultMessage:"This is HomePage container !"}});r.d(t,"HomePage",function(){return A});var _=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),x=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,a){var o=t&&t.defaultProps,c=arguments.length-3;if(r||0===c||(r={}),r&&o)for(var i in o)void 0===r[i]&&(r[i]=o[i]);else r||(r=o||{});if(1===c)r.children=a;else if(c>1){for(var s=Array(c),u=0;u<c;u++)s[u]=arguments[u+3];r.children=s}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),H=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function C(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var F={All:"",Movies:"movie",Series:"series",Episode:"episode"},A=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),c=0;c<a;c++)o[c]=arguments[c];return r=n=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={searchKey:"",page:1,movies:[],currentPage:1,genre:"",favMovies:localStorage.movies?JSON.parse(localStorage.movies):[],isHomeView:!0,isSearched:!1},n.inputChangeHandler=function(e){var t=e.currentTarget;n.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.id,t.value))},n.formSubmitHandler=function(e){if(e.preventDefault(),n.state.isHomeView)n.setState({currentPage:1,page:1}),n.props.searchMovie(n.state.searchKey,1,n.state.genre);else{var t=localStorage.movies?JSON.parse(localStorage.movies):[];t=t.filter(function(e){return e.Title.toLowerCase().includes(n.state.searchKey.toLowerCase())&&e.Type.includes(n.state.genre)}),n.setState({favMovies:t,isSearched:!0})}},n.nextPageRequestHandler=function(){n.setState(function(e){return{currentPage:e.currentPage+1,isFetching:!0}},function(){n.props.searchMovie(n.state.searchKey,n.state.currentPage,n.state.genre)})},n.addOrRemoveFromFavourite=function(e,t){var r=[].concat(C(n.state.favMovies));"add"==t?r.push(e):r=r.filter(function(t){return t.imdbID!==e.imdbID}),localStorage.movies=JSON.stringify(r),n.setState({favMovies:r})},n.getAddOrRemoveButton=function(e){return[].concat(C(n.state.favMovies)).some(function(t){return t.imdbID==e.imdbID})?x("button",{type:"button",onClick:function(){return n.addOrRemoveFromFavourite(e,"remove")}},void 0," - Remove From Favourite  "):x("button",{type:"button",onClick:function(){return n.addOrRemoveFromFavourite(e,"add")}},void 0," + Add To Favourite ")},n.isHomeView=function(e){n.setState({isHomeView:e,searchKey:"",movies:[],isSearched:!1})},n.setTypeGenre=function(e){n.setState({genre:e})},E(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),H(t,[{key:"componentWillReceiveProps",value:function(e){e.searchSuccess&&e.searchSuccess!==this.props.searchSuccess&&this.setState(function(t){return{movies:[].concat(C(t.movies),C(e.searchSuccess.Search)),totalPages:e.searchSuccess.totalResults/10,isFetching:!1,isSearched:!0}}),e.searchFailure&&(e.searchFailure,this.props.searchFailure)}},{key:"render",value:function(){var e=this,t=this.state.isHomeView?this.state.movies:this.state.favMovies;return x("div",{className:"wrapper"},void 0,x("div",{className:"header headerMenu"},void 0,x("ul",{},void 0,x("div",{className:"floatleft"},void 0,x("li",{className:"special_text",onClick:function(){return e.isHomeView(!0)}},void 0,x("a",{className:this.state.isHomeView?"active":""},void 0,x("i",{className:"fa fa-home"})," Home"))),x("div",{className:"floatright"},void 0,x("li",{onClick:function(){return e.isHomeView(!1)}},void 0,x("a",{className:this.state.isHomeView?"":"active"},void 0,x("i",{className:"fa fa-star","aria-hidden":"true"})," Favourite"))))),x("div",{className:"content"},void 0,x("div",{className:"searchContainer"},void 0,x("div",{className:"searchBox"},void 0,x("form",{className:"example fx-b70",onSubmit:this.formSubmitHandler},void 0,x("input",{type:"text",id:"searchKey",value:this.state.searchKey,disabled:!this.state.isHomeView&&0==this.state.favMovies.length,onChange:this.inputChangeHandler,placeholder:"Search..",name:"search"}),x("button",{type:"submit",disabled:0==this.state.searchKey.length},void 0,x("i",{className:"fa fa-search"})))),x("div",{className:"genre"},void 0,x("ul",{},void 0,Object.entries(F).map(function(t){var r=_(t,2),n=r[0],a=r[1];return x("li",{className:e.state.genre===a?"active":"",onClick:function(){return e.setTypeGenre(a)}},n," ",n)})))),(this.state.isSearched||!this.state.isHomeView)&&x(a.a.Fragment,{},void 0,this.state.isSearched&&x("h4",{},void 0,'Results for "',this.state.searchKey,'"'),x("section",{id:"card-view"},void 0,t.length>0?t.map(function(t){return x("article",{onClick:function(){return e.props.history.push("/movieDetails/"+t.imdbID)}},t.imdbID,x("div",{className:"card-image"},void 0,x("img",{src:t.Poster})),x("div",{className:"card-text"},void 0,x("h5",{},void 0," ",t.Title," ( ",t.Year," )")),e.getAddOrRemoveButton(t))}):x("div",{className:"noDataFound"},void 0,x("h5",{},void 0,this.state.isHomeView?"No Match Found!":"No Movies Add To Favourite")),this.state.isFetching&&x("div",{className:"loader"},void 0,"Loading..."))),this.state.isSearched&&this.state.isHomeView&&x("button",{type:"button",disabled:this.state.pages==this.state.currentPage,onClick:this.nextPageRequestHandler,className:"float"},void 0,x("i",{className:"fa fa-arrow-right"}))))}}]),t}(),M=Object(i.b)({searchSuccess:Object(i.a)(g,function(e){return e.searchSuccess}),searchFailure:Object(i.a)(g,function(e){return e.searchFailure})});var T=Object(o.connect)(M,function(e){return{dispatch:e,searchMovie:function(t,r,n){return e(function(e,t,r){return{type:l,searchKey:e,pageNumber:t,genre:r}}(t,r,n))}}}),V=Object(f.a)({key:"homePage",reducer:m}),I=Object(u.a)({key:"homePage",saga:k});t.default=Object(s.compose)(V,I,T)(A)},adc20f99e57c573c589c:function(e,t,r){"use strict";var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=r("8a2d1b95e05b6a321e74"),c=r.n(o),i=r("5ef9de3df8d92ea0e41c"),s=r.n(i),u=r("a1cf5d6fa4ed65a6ddd5"),f=r.n(u),d=r("f3b0ff1628e56352bcbf"),l=r.n(d),p=r("5fa3f8487e09c6182715"),v=r.n(p),h=r("6a4f9c383785f9168266"),b=r.n(h),m=r("f2873ecf7390fe7d7c89"),g=r.n(m),y=r("cc13decd9f9c09598c2f"),j="@@saga-injector/restart-on-remount",S="@@saga-injector/daemon",w="@@saga-injector/once-till-unmount",O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R=[j,S,w],P=function(e){return b()(v()(e)&&!f()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},N=function(e){var t={saga:l.a,mode:function(e){return v()(e)&&R.includes(e)}};b()(g()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function k(e){return Object(y.a)(e),{injectSaga:function(e,t){return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];t||Object(y.a)(e);var o=O({},n,{mode:n.mode||j}),c=o.saga,i=o.mode;P(r),N(o);var s=Reflect.has(e.injectedSagas,r);(!s||s&&i!==S&&i!==w)&&(e.injectedSagas[r]=O({},o,{task:e.runSaga(c,a)}))}}(e,!0),ejectSaga:function(e,t){return function(r){if(t||Object(y.a)(e),P(r),Reflect.has(e.injectedSagas,r)){var n=e.injectedSagas[r];n.mode!==S&&(n.task.cancel(),e.injectedSagas[r]="done")}}}(e,!0)}}var _=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.a=function(e){var t=e.key,r=e.saga,n=e.mode;return function(e){var o=function(o){function c(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=x(this,(e=c.__proto__||Object.getPrototypeOf(c)).call.apply(e,[this].concat(a))),r.injectors=k(r.context.store),x(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,a.a.Component),_(c,[{key:"componentWillMount",value:function(){(0,this.injectors.injectSaga)(t,{saga:r,mode:n},this.props)}},{key:"componentWillUnmount",value:function(){(0,this.injectors.ejectSaga)(t)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),c}();return o.WrappedComponent=e,o.contextTypes={store:c.a.object.isRequired},o.displayName="withSaga("+(e.displayName||e.name||"Component")+")",s()(o,e)}}},cc13decd9f9c09598c2f:function(e,t,r){"use strict";r.d(t,"a",function(){return d});var n=r("f2873ecf7390fe7d7c89"),a=r.n(n),o=r("f3b0ff1628e56352bcbf"),c=r.n(o),i=r("d3a850c4000d77bccc89"),s=r.n(i),u=r("6a4f9c383785f9168266"),f=r.n(u);function d(e){var t={dispatch:c.a,subscribe:c.a,getState:c.a,replaceReducer:c.a,runSaga:c.a,injectedReducers:s.a,injectedSagas:s.a};f()(a()(e,t),"(app/utils...) injectors: Expected a valid redux store")}},d95b0cf107403b178365:function(e,t,r){"use strict";var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=r("8a2d1b95e05b6a321e74"),c=r.n(o),i=r("5ef9de3df8d92ea0e41c"),s=r.n(i),u=r("6a4f9c383785f9168266"),f=r.n(u),d=r("a1cf5d6fa4ed65a6ddd5"),l=r.n(d),p=r("f3b0ff1628e56352bcbf"),v=r.n(p),h=r("5fa3f8487e09c6182715"),b=r.n(h),m=r("cc13decd9f9c09598c2f"),g=r("491cc2e27aa2b4221847");function y(e){return Object(m.a)(e),{injectReducer:function(e,t){return function(r,n){t||Object(m.a)(e),f()(b()(r)&&!l()(r)&&v()(n),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,r)&&e.injectedReducers[r]===n||(e.injectedReducers[r]=n,e.replaceReducer(Object(g.a)(e.injectedReducers)))}}(e,!0)}}var j=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.a=function(e){var t=e.key,r=e.reducer;return function(e){var n=function(n){function o(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=r=S(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(a))),r.injectors=y(r.context.store),S(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.a.Component),j(o,[{key:"componentWillMount",value:function(){(0,this.injectors.injectReducer)(t,r)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),o}();return n.WrappedComponent=e,n.contextTypes={store:c.a.object.isRequired},n.displayName="withReducer("+(e.displayName||e.name||"Component")+")",s()(n,e)}}}}]);