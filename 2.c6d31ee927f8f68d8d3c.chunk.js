(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"0b8eb3e35929778b339a":function(e,t,r){"use strict";r.r(t);var n=r("8af190b70a6bc55c6f1b"),a=r.n(n),o=r("8a2d1b95e05b6a321e74"),i=r.n(o),c=r("d7dd51e1bf6bfc2c9c3d"),s=(r("0d7f0986bcd2f33d8a2a"),r("ab039aecd4a1d4fedc0e")),u=r("a28fc3c963a1d4d1a2e5"),f=r("ab4cb61bcb2dc161defb"),l=r("5ef9de3df8d92ea0e41c"),d=r.n(l),p=r("a1cf5d6fa4ed65a6ddd5"),v=r.n(p),h=r("f3b0ff1628e56352bcbf"),m=r.n(h),b=r("5fa3f8487e09c6182715"),g=r.n(b),y=r("6a4f9c383785f9168266"),j=r.n(y),S=r("f2873ecf7390fe7d7c89"),w=r.n(S),O=r("d3a850c4000d77bccc89"),R=r.n(O);function P(e){var t={dispatch:m.a,subscribe:m.a,getState:m.a,replaceReducer:m.a,runSaga:m.a,injectedReducers:R.a,injectedSagas:R.a};j()(w()(e,t),"(app/utils...) injectors: Expected a valid redux store")}var _="@@saga-injector/restart-on-remount",k="@@saga-injector/daemon",N="@@saga-injector/once-till-unmount",x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H=[_,k,N],C=function(e){return j()(g()(e)&&!v()(e),"(app/utils...) injectSaga: Expected `key` to be a non empty string")},E=function(e){var t={saga:m.a,mode:function(e){return g()(e)&&H.includes(e)}};j()(w()(e,t),"(app/utils...) injectSaga: Expected a valid saga descriptor")};function F(e){return P(e),{injectSaga:function(e,t){return function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];t||P(e);var o=x({},n,{mode:n.mode||_}),i=o.saga,c=o.mode;C(r),E(o);var s=Reflect.has(e.injectedSagas,r);(!s||s&&c!==k&&c!==N)&&(e.injectedSagas[r]=x({},o,{task:e.runSaga(i,a)}))}}(e,!0),ejectSaga:function(e,t){return function(r){if(t||P(e),C(r),Reflect.has(e.injectedSagas,r)){var n=e.injectedSagas[r];n.mode!==k&&(n.task.cancel(),e.injectedSagas[r]="done")}}}(e,!0)}}var A=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=r("491cc2e27aa2b4221847");function V(e){return P(e),{injectReducer:function(e,t){return function(r,n){t||P(e),j()(g()(r)&&!v()(r)&&m()(n),"(app/utils...) injectReducer: Expected `reducer` to be a reducer function"),Reflect.has(e.injectedReducers,r)&&e.injectedReducers[r]===n||(e.injectedReducers[r]=n,e.replaceReducer(Object(T.a)(e.injectedReducers)))}}(e,!0)}}var K=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function I(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D="app/HomePage/DEFAULT_ACTION",J="app/HomePage/SEARCH_MOVIE",W="app/HomePage/SEARCH_MOVIE_SUCCESS",L="app/HomePage/SEARCH_MOVIE_FAILURE";var q=r("54f683fcda7806277002"),U=Object(q.fromJS)({});var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments[1];switch(t.type){case D:return e;case W:return t.response,Object.assign({},e,{searchSuccess:t.response});case L:return Object.assign({},e,{searchFailure:t.response});default:return e}},G=function(e){return e.get("homePage",U)},$=r("6c68d13fe9e3e77d8fc4"),Y=r("bd183afcc37eabd79225"),z=r.n(Y),Q=(r("a7e3807798c0b990af09"),regeneratorRuntime.mark(ee)),X=regeneratorRuntime.mark(te),Z=regeneratorRuntime.mark(re);function ee(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t="http://www.omdbapi.com/?apikey=3b63fa88&s="+e.searchKey+"&page="+e.pageNumber+"&type="+e.genre,console.log("url: ",t),n.next=5,Object($.a)(z.a.get,t,{});case 5:return r=n.sent,console.log("response: ",r),n.next=9,Object($.b)({type:W,response:"True"==r.data.Response?r.data:r.Error});case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object($.b)({type:L,error:n.t0});case 15:case"end":return n.stop()}},Q,this,[[0,11]])}function te(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($.c)(J,ee);case 2:case"end":return e.stop()}},X,this)}function re(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[te()];case 2:case"end":return e.stop()}},Z,this)}Object(s.defineMessages)({header:{id:"app.containers.HomePage.header",defaultMessage:"This is HomePage container !"}});r.d(t,"HomePage",function(){return ue});var ne=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&c.return&&c.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),ae=function(){var e="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;return function(t,r,n,a){var o=t&&t.defaultProps,i=arguments.length-3;if(r||0===i||(r={}),r&&o)for(var c in o)void 0===r[c]&&(r[c]=o[c]);else r||(r=o||{});if(1===i)r.children=a;else if(i>1){for(var s=Array(i),u=0;u<i;u++)s[u]=arguments[u+3];r.children=s}return{$$typeof:e,type:t,key:void 0===n?null:""+n,ref:null,props:r,_owner:null}}}(),oe=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ie(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function ce(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var se={All:"",Movies:"movie",Series:"series",Episode:"episode"},ue=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return r=n=ce(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={searchKey:"",page:1,movies:[],currentPage:1,genre:"",favMovies:localStorage.movies?JSON.parse(localStorage.movies):[],isHomeView:!0,isSearched:!1},n.inputChangeHandler=function(e){var t=e.currentTarget;n.setState(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t.id,t.value))},n.formSubmitHandler=function(e){if(e.preventDefault(),n.state.isHomeView)n.setState({currentPage:1,page:1}),n.props.searchMovie(n.state.searchKey,1,n.state.genre);else{var t=localStorage.movies?JSON.parse(localStorage.movies):[];t=t.filter(function(e){return e.Title.toLowerCase().includes(n.state.searchKey.toLowerCase())&&e.Type.includes(n.state.genre)}),n.setState({favMovies:t,isSearched:!0})}},n.nextPageRequestHandler=function(){n.setState(function(e){return{currentPage:e.currentPage+1,isFetching:!0}},function(){n.props.searchMovie(n.state.searchKey,n.state.currentPage,n.state.genre)})},n.addOrRemoveFromFavourite=function(e,t){var r=[].concat(ie(n.state.favMovies));"add"==t?r.push(e):r=r.filter(function(t){return t.imdbID!==e.imdbID}),localStorage.movies=JSON.stringify(r),n.setState({favMovies:r})},n.getAddOrRemoveButton=function(e){return[].concat(ie(n.state.favMovies)).some(function(t){return t.imdbID==e.imdbID})?ae("button",{type:"button",onClick:function(){return n.addOrRemoveFromFavourite(e,"remove")}},void 0," - Remove From Favourite  "):ae("button",{type:"button",onClick:function(){return n.addOrRemoveFromFavourite(e,"add")}},void 0," + Add To Favourite ")},n.isHomeView=function(e){n.setState({isHomeView:e,searchKey:"",movies:[],isSearched:!1})},n.setTypeGenre=function(e){n.setState({genre:e})},ce(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.a.PureComponent),oe(t,[{key:"componentWillReceiveProps",value:function(e){e.searchSuccess&&e.searchSuccess!==this.props.searchSuccess&&this.setState(function(t){return{movies:[].concat(ie(t.movies),ie(e.searchSuccess.Search)),totalPages:e.searchSuccess.totalResults/10,isFetching:!1,isSearched:!0}}),e.searchFailure&&(e.searchFailure,this.props.searchFailure)}},{key:"render",value:function(){var e=this,t=this.state.isHomeView?this.state.movies:this.state.favMovies;return ae("div",{className:"wrapper"},void 0,ae("div",{className:"header headerMenu"},void 0,ae("ul",{},void 0,ae("div",{className:"floatleft"},void 0,ae("li",{className:"special_text",onClick:function(){return e.isHomeView(!0)}},void 0,ae("a",{className:this.state.isHomeView?"active":""},void 0,"Home"))),ae("div",{className:"floatright"},void 0,ae("li",{onClick:function(){return e.isHomeView(!1)}},void 0,ae("a",{className:this.state.isHomeView?"":"active"},void 0,"Favourite")," ")))),ae("div",{className:"content"},void 0,ae("div",{className:"searchContainer"},void 0,ae("div",{className:"searchBox"},void 0,ae("form",{className:"example fx-b70",onSubmit:this.formSubmitHandler},void 0,ae("input",{type:"text",id:"searchKey",value:this.state.searchKey,disabled:!this.state.isHomeView&&0==this.state.favMovies.length,onChange:this.inputChangeHandler,placeholder:"Search..",name:"search"}),ae("button",{type:"submit",disabled:0==this.state.searchKey.length},void 0,ae("i",{className:"fa fa-search"})))),ae("div",{className:"genre"},void 0,ae("ul",{},void 0,Object.entries(se).map(function(t){var r=ne(t,2),n=r[0],a=r[1];return ae("li",{className:e.state.genre===a?"active":"",onClick:function(){return e.setTypeGenre(a)}},n," ",n)})))),(this.state.isSearched||!this.state.isHomeView)&&ae("div",{},void 0,this.state.isSearched&&ae("h4",{},void 0,'Results for "',this.state.searchKey,'"'),ae("section",{id:"card-view"},void 0,t.length>0?t.map(function(t,r){return ae("article",{},r,ae("div",{className:"card-image"},void 0,ae("img",{src:t.Poster})),ae("div",{className:"card-text"},void 0,ae("h5",{},void 0," ",t.Title," ( ",t.Year," )")),e.getAddOrRemoveButton(t))}):ae("div",{className:"noDataFound"},void 0,ae("h5",{},void 0,this.state.isHomeView?"No Match Found!":"No Movies Add To Favourite")),this.state.isFetching&&ae("div",{class:"loader"},void 0,"Loading..."))),this.state.isSearched&&this.state.isHomeView&&ae("button",{type:"button",disabled:this.state.pages==this.state.currentPage,onClick:this.nextPageRequestHandler,className:"float"},void 0,ae("i",{className:"fa fa-arrow-right"}))))}}]),t}(),fe=Object(u.b)({searchSuccess:Object(u.a)(G,function(e){return e.searchSuccess}),searchFailure:Object(u.a)(G,function(e){return e.searchFailure})});var le=Object(c.connect)(fe,function(e){return{dispatch:e,searchMovie:function(t,r,n){return e(function(e,t,r){return{type:J,searchKey:e,pageNumber:t,genre:r}}(t,r,n))}}}),de=function(e){var t=e.key,r=e.reducer;return function(e){var n=function(n){function o(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var n=arguments.length,a=Array(n),i=0;i<n;i++)a[i]=arguments[i];return t=r=I(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(a))),r.injectors=V(r.context.store),I(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,a.a.Component),K(o,[{key:"componentWillMount",value:function(){(0,this.injectors.injectReducer)(t,r)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),o}();return n.WrappedComponent=e,n.contextTypes={store:i.a.object.isRequired},n.displayName="withReducer("+(e.displayName||e.name||"Component")+")",d()(n,e)}}({key:"homePage",reducer:B}),pe=function(e){var t=e.key,r=e.saga,n=e.mode;return function(e){var o=function(o){function i(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=r=M(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(a))),r.injectors=F(r.context.store),M(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,a.a.Component),A(i,[{key:"componentWillMount",value:function(){(0,this.injectors.injectSaga)(t,{saga:r,mode:n},this.props)}},{key:"componentWillUnmount",value:function(){(0,this.injectors.ejectSaga)(t)}},{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),i}();return o.WrappedComponent=e,o.contextTypes={store:i.a.object.isRequired},o.displayName="withSaga("+(e.displayName||e.name||"Component")+")",d()(o,e)}}({key:"homePage",saga:re});t.default=Object(f.compose)(de,pe,le)(ue)}}]);